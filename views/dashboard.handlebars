<main class="dashboard">
  <!-- Header -->
  <header class="admin-header p-3 fixed-top bg-white shadow-sm">
    <div class="row align-items-center g-2">
      <div class="col-12 col-md-6 text-center text-md-start">
        <h2 class="m-0">Painel do Administrador</h2>
      </div>
      <div class="col-12 col-md-6 text-center text-md-end d-flex flex-wrap justify-content-center justify-content-md-end gap-2 mt-2 mt-md-0">
        <a href="/cadastro" class="btn btn-primary btn-sm">Ir para Cadastramento</a>
        <a href="/" class="btn btn-secondary btn-sm">P√°gina Principal</a>
        <a href="/logout" class="btn btn-danger btn-sm">Logout</a>
      </div>
    </div>
  </header>

  <main class="container my-4 dashboard-container">
    {{> mensagens}}

    <!-- Cards de resumo -->
    <div class="row text-center mb-4">
      <div class="col-md-3">
        <div class="card resumo-card shadow-sm">
          <div class="card-body">
            <i class="fas fa-box fa-2x text-primary mb-2"></i>
            <h5>Produtos</h5>
            <p class="display-4">{{totalProdutos}}</p>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card resumo-card shadow-sm">
          <div class="card-body">
            <i class="fas fa-users fa-2x text-success mb-2"></i>
            <h5>Funcion√°rios</h5>
            <p class="display-4">{{totalFuncionarios}}</p>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card resumo-card shadow-sm">
          <div class="card-body">
            <i class="fas fa-shopping-cart fa-2x text-warning mb-2"></i>
            <h5>Vendas</h5>
            <p class="display-4">{{totalVendas}}</p>
          </div>
        </div>
      </div>
      <div class="col-md-3">
        <div class="card resumo-card shadow-sm">
          <div class="card-body">
            <i class="fas fa-eye fa-2x text-info mb-2"></i>
            <h5>Visitas</h5>
            <p class="display-4">{{totalVisitas}}</p>
          </div>
        </div>
      </div>
    </div>

    <!-- √öltimas vendas -->
    <section class="mb-5">
      <h4 class="mb-3">üìä √öltimas 10 Vendas Finalizadas</h4>
      <table class="table table-striped table-hover">
        <thead class="thead-dark">
          <tr>
            <th>#Venda</th>
            <th>Valor Total</th>
            <th>Data e Hora</th>
          </tr>
        </thead>
        <tbody>
          {{#each vendas}}
            <tr>
              <td>{{this.id}}</td>
              <td>{{formatarKwanza this.valor_total}} Kz</td>
              <td>{{this.data_hora}}</td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    </section>

    <!-- Funcion√°rios -->
    <section>
      <h4 class="mb-3">üë®‚Äçüíº Funcion√°rios Cadastrados</h4>
      <table class="table table-bordered table-hover align-middle">
        <thead class="thead-light">
          <tr>
            <th>ID</th>
            <th>Nome</th>
            <th>Email</th>
            <th>Senha</th>
            <th class="text-center">A√ß√µes</th>
          </tr>
        </thead>
        <tbody>
          {{#each funcionarios}}
            <tr>
              <td>{{this.id}}</td>
              <td>{{this.nome}}</td>
              <td>{{this.email}}</td>
              <td>*****</td>
              <td class="text-center">
                <a href="/funcionarios/editar/{{this.id}}" class="btn btn-warning btn-md me-2">Editar</a>
                {{#unless (eq this.id 1)}}
                  <a href="/funcionarios/remover/{{this.id}}" class="btn btn-danger btn-md"
                     onclick="return confirm('Tem certeza que deseja excluir este funcion√°rio?')">Excluir</a>
                {{/unless}}
              </td>
            </tr>
          {{/each}}
        </tbody>
      </table>
    </section>
  </main>

  <footer class="text-center py-3 bg-light dashboard-footer">
    ¬© {{year}} Julce Store - Todos os direitos reservados
  </footer>
</main>
